{
	"name": "Global",
	"events": [
		{
			"eventType": "comment",
			"text": "Initialization flags"
		},
		{
			"eventType": "variable",
			"name": "GAME_init",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is it the very start of the game?",
			"isStatic": false,
			"isConstant": false,
			"sid": 763911591909870
		},
		{
			"eventType": "variable",
			"name": "GAME_load",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Have we tried to load yet?",
			"isStatic": false,
			"isConstant": false,
			"sid": 175946403804039
		},
		{
			"eventType": "variable",
			"name": "NGIO_onNewgrounds",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are we playing on Newgrounds?",
			"isStatic": false,
			"isConstant": false,
			"sid": 547791333904289
		},
		{
			"eventType": "variable",
			"name": "NGIO_loggedIn",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are we logged in on Newgrounds?",
			"isStatic": false,
			"isConstant": false,
			"sid": 945553832025578
		},
		{
			"eventType": "variable",
			"name": "NGIO_medals",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Have we synced medals with Newgrounds?",
			"isStatic": false,
			"isConstant": false,
			"sid": 754514762454663
		},
		{
			"eventType": "comment",
			"text": "Game type flags"
		},
		{
			"eventType": "variable",
			"name": "GAME_mobile",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is the game being played with touch controls?",
			"isStatic": false,
			"isConstant": false,
			"sid": 130405948700867
		},
		{
			"eventType": "variable",
			"name": "GAME_standalone",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is the game a standalone version?",
			"isStatic": false,
			"isConstant": false,
			"sid": 938024959381582
		},
		{
			"eventType": "variable",
			"name": "GAME_kiosk",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is the game in kiosk mode?",
			"isStatic": false,
			"isConstant": false,
			"sid": 370741058067186
		},
		{
			"eventType": "comment",
			"text": "Loading flags"
		},
		{
			"eventType": "variable",
			"name": "LOAD_save",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is the save file loaded?",
			"isStatic": false,
			"isConstant": false,
			"sid": 537414667820515
		},
		{
			"eventType": "variable",
			"name": "LOAD_artworks",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are artworks loaded?",
			"isStatic": false,
			"isConstant": false,
			"sid": 216041752508522
		},
		{
			"eventType": "variable",
			"name": "LOAD_pickups",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are pickups loaded?",
			"isStatic": false,
			"isConstant": false,
			"sid": 695139506816835
		},
		{
			"eventType": "variable",
			"name": "LOAD_drinks",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are drinks loaded?",
			"isStatic": false,
			"isConstant": false,
			"sid": 737740821141775
		},
		{
			"eventType": "variable",
			"name": "LOAD_skins",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are skins loaded?",
			"isStatic": false,
			"isConstant": false,
			"sid": 435448440349274
		},
		{
			"eventType": "variable",
			"name": "LOAD_medals",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are medals loaded?",
			"isStatic": false,
			"isConstant": false,
			"sid": 327128254533650
		},
		{
			"eventType": "comment",
			"text": "Settings"
		},
		{
			"eventType": "variable",
			"name": "SETTING_volumeSound",
			"type": "number",
			"initialValue": "0.5",
			"comment": "Sound volume",
			"isStatic": false,
			"isConstant": false,
			"sid": 192490156349528
		},
		{
			"eventType": "variable",
			"name": "SETTING_volumeMusic",
			"type": "number",
			"initialValue": "0.25",
			"comment": "Music volume",
			"isStatic": false,
			"isConstant": false,
			"sid": 678372899590218
		},
		{
			"eventType": "variable",
			"name": "SETTING_fullscreen",
			"type": "number",
			"initialValue": "0",
			"comment": "Fullscreen status; dynamically changed",
			"isStatic": false,
			"isConstant": false,
			"sid": 486017458866043
		},
		{
			"eventType": "variable",
			"name": "SETTING_flashing",
			"type": "number",
			"initialValue": "1",
			"comment": "Pickup flashing",
			"isStatic": false,
			"isConstant": false,
			"sid": 577762061617983
		},
		{
			"eventType": "variable",
			"name": "SETTING_timer",
			"type": "number",
			"initialValue": "0",
			"comment": "Ingame timer",
			"isStatic": false,
			"isConstant": false,
			"sid": 266300242948782
		},
		{
			"eventType": "variable",
			"name": "SETTING_playerSkin",
			"type": "string",
			"initialValue": "default",
			"comment": "Player skin",
			"isStatic": false,
			"isConstant": false,
			"sid": 595297534058577
		},
		{
			"eventType": "variable",
			"name": "SETTING_playerSound",
			"type": "string",
			"initialValue": "default/default",
			"comment": "Player sound path, for ease; not normally set",
			"isStatic": false,
			"isConstant": false,
			"sid": 450823312282484
		},
		{
			"eventType": "variable",
			"name": "SETTING_playerSoundPitch",
			"type": "number",
			"initialValue": "1",
			"comment": "Player sound pitch",
			"isStatic": false,
			"isConstant": false,
			"sid": 668199120790852
		},
		{
			"eventType": "variable",
			"name": "UNLOCK_doomMusic",
			"type": "number",
			"initialValue": "0",
			"comment": "Is DOOM music unlocked?",
			"isStatic": false,
			"isConstant": false,
			"sid": 736323639760953
		},
		{
			"eventType": "variable",
			"name": "SETTING_doomMusic",
			"type": "number",
			"initialValue": "0",
			"comment": "DOOM music",
			"isStatic": false,
			"isConstant": false,
			"sid": 565183312243290
		},
		{
			"eventType": "comment",
			"text": "Global transition flags"
		},
		{
			"eventType": "variable",
			"name": "TRANSITION_running",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is a transition running?",
			"isStatic": false,
			"isConstant": false,
			"sid": 683281083250065
		},
		{
			"eventType": "variable",
			"name": "TRANSITION_movedLayout",
			"type": "boolean",
			"initialValue": "true",
			"comment": "Has the transition moved layouts?",
			"isStatic": false,
			"isConstant": false,
			"sid": 518336929978468
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - Initialization",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 649976629931965
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 267612853955736,
							"parameters": {
								"variable": "GAME_init"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 235413691706826,
							"parameters": {
								"variable": "GAME_init",
								"value": "true"
							}
						},
						{
							"type": "comment",
							"text": "Load arrays"
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 145297729359162,
							"parameters": {
								"tag": "\"artworks\"",
								"file": "artworks.json"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 715128286983049,
							"parameters": {
								"tag": "\"pickups\"",
								"file": "pickups.json"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 998573784313371,
							"parameters": {
								"tag": "\"drinks\"",
								"file": "drinks.json"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 469346971207664,
							"parameters": {
								"tag": "\"skins\"",
								"file": "skins.json"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 613813387974686,
							"parameters": {
								"tag": "\"medals\"",
								"file": "medals.json"
							}
						}
					],
					"sid": 720021076985447,
					"children": [
						{
							"eventType": "comment",
							"text": "We're standalone"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-windows-webview2-export",
									"objectClass": "PlatformInfo",
									"sid": 101136443197802
								},
								{
									"id": "is-macos-wkwebview-export",
									"objectClass": "PlatformInfo",
									"sid": 899091432418996
								},
								{
									"id": "is-linux-cef-export",
									"objectClass": "PlatformInfo",
									"sid": 609773091369479
								},
								{
									"id": "is-in-preview",
									"objectClass": "System",
									"sid": 513529023592615,
									"disabled": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 689207074185577,
									"parameters": {
										"variable": "GAME_standalone",
										"value": "true"
									}
								}
							],
							"sid": 703655042805664,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "We're on mobile"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-mobile",
									"objectClass": "PlatformInfo",
									"sid": 976175523268131
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 115349694822048,
									"parameters": {
										"variable": "GAME_mobile",
										"value": "true"
									}
								}
							],
							"sid": 354748915229003
						},
						{
							"eventType": "comment",
							"text": "We're on Newgrounds"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 949062742230840,
									"parameters": {
										"first-value": "RegexMatchCount(Browser.URL, \"^(https?:\\/\\/|\\/\\/)?([a-z0-9-]+\\.)?(newgrounds\\.com|ungrounded\\.net)($|[\\/?#])\", \"gi\")",
										"comparison": 4,
										"second-value": "0"
									}
								},
								{
									"id": "is-in-preview",
									"objectClass": "System",
									"sid": 210997652704186,
									"disabled": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 986081408030608,
									"parameters": {
										"variable": "NGIO_onNewgrounds",
										"value": "true"
									}
								}
							],
							"sid": 489514929845594,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Global - AJAX",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Initialize artworks array"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 846258134334876,
									"parameters": {
										"tag": "\"artworks\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 819311574673358,
									"parameters": {
										"variable": "LOAD_artworks",
										"value": "true"
									}
								},
								{
									"id": "load",
									"objectClass": "Artworks",
									"sid": 971454089013392,
									"parameters": {
										"json": "AJAX.LastData"
									}
								}
							],
							"sid": 556054675413489
						},
						{
							"eventType": "comment",
							"text": "Initialize pickups array"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 619844531769121,
									"parameters": {
										"tag": "\"pickups\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 201831718102379,
									"parameters": {
										"variable": "LOAD_pickups",
										"value": "true"
									}
								},
								{
									"id": "load",
									"objectClass": "Pickups",
									"sid": 236481760898126,
									"parameters": {
										"json": "AJAX.LastData"
									}
								}
							],
							"sid": 468983531631669
						},
						{
							"eventType": "comment",
							"text": "Initialize drinks array"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 598594195480178,
									"parameters": {
										"tag": "\"drinks\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 464499110466000,
									"parameters": {
										"variable": "LOAD_drinks",
										"value": "true"
									}
								},
								{
									"id": "load",
									"objectClass": "DrinksBase",
									"sid": 947029957367080,
									"parameters": {
										"json": "AJAX.LastData"
									}
								},
								{
									"id": "load",
									"objectClass": "Drinks",
									"sid": 646998277738895,
									"parameters": {
										"json": "AJAX.LastData"
									}
								}
							],
							"sid": 852308363025598
						},
						{
							"eventType": "comment",
							"text": "Initialize skins array"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 754850649328063,
									"parameters": {
										"tag": "\"skins\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 238605345985331,
									"parameters": {
										"variable": "LOAD_skins",
										"value": "true"
									}
								},
								{
									"id": "load",
									"objectClass": "Skins",
									"sid": 923380987279933,
									"parameters": {
										"json": "AJAX.LastData"
									}
								}
							],
							"sid": 112825875917937,
							"children": [
								{
									"eventType": "comment",
									"text": "Tankman is Newgrounds exclusive"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 979613080365991,
											"parameters": {
												"variable": "NGIO_onNewgrounds"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "delete",
											"objectClass": "Skins",
											"sid": 121109818328741,
											"parameters": {
												"index": "Self.IndexOf(\"tankman\")",
												"axis": "x"
											}
										}
									],
									"sid": 980866759894831
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Initialize medals array"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 884908347791540,
									"parameters": {
										"tag": "\"medals\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 427939324463499,
									"parameters": {
										"variable": "LOAD_medals",
										"value": "true"
									}
								},
								{
									"id": "load",
									"objectClass": "Medals",
									"sid": 203798807953481,
									"parameters": {
										"json": "AJAX.LastData"
									}
								}
							],
							"sid": 953289545686699
						},
						{
							"eventType": "comment",
							"text": "Project can't load when these arrays aren't initialized"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-error",
									"objectClass": "AJAX",
									"sid": 888524663692820
								}
							],
							"actions": [
								{
									"callFunction": "loadComplete",
									"sid": 931508925682373,
									"parameters": [
										"1"
									]
								}
							],
							"sid": 713282101590660
						},
						{
							"eventType": "comment",
							"text": "Arrays necessary for loading are ready, try to load save"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 144501692236794,
									"parameters": {
										"variable": "GAME_load"
									},
									"isInverted": true
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 755706729255529,
									"parameters": {
										"variable": "LOAD_skins"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 935462886181437,
									"parameters": {
										"variable": "LOAD_medals"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 815282886263608,
									"parameters": {
										"variable": "GAME_load",
										"value": "true"
									}
								}
							],
							"sid": 939914353687640,
							"children": [
								{
									"eventType": "comment",
									"text": "Initiate load from a file on standalone, if supported"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 799027644776246,
											"parameters": {
												"variable": "GAME_standalone"
											}
										},
										{
											"id": "desktop-features-supported",
											"objectClass": "FileSystem",
											"sid": 670542015944134
										},
										{
											"id": "is-supported",
											"objectClass": "FileSystem",
											"sid": 162243008360588
										}
									],
									"actions": [
										{
											"id": "read-text-file",
											"objectClass": "FileSystem",
											"sid": 912065575421802,
											"parameters": {
												"picker-tag": "\"<local-app-data>\"",
												"folder-path": "\"SCUMDOG/doom_tge/saveData1.txt\"",
												"file-tag": "\"load\""
											}
										}
									],
									"sid": 307662642425370
								},
								{
									"eventType": "comment",
									"text": "Initiate load from local storage"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 110300226681304
										}
									],
									"actions": [
										{
											"id": "check-item-exists",
											"objectClass": "LocalStorage",
											"sid": 701503121122562,
											"parameters": {
												"key": "\"saveData1\""
											}
										}
									],
									"sid": 371252546615311
								}
							]
						}
					],
					"sid": 560557958746214
				}
			],
			"sid": 133650818049931
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - Core Logic",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Input signals, for menus and such"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-key-pressed",
							"objectClass": "Keyboard",
							"sid": 709374981189185
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 222762309962289,
							"parameters": {
								"tag": "\"inputKeyboard\""
							}
						}
					],
					"sid": 598812322384500
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-click",
							"objectClass": "Mouse",
							"sid": 520678736207414
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 957269059618229,
							"parameters": {
								"tag": "\"inputMouse\""
							}
						}
					],
					"sid": 444179231273835,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-in-touch",
							"objectClass": "Touch",
							"sid": 577837800369741
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 842262212894911,
							"parameters": {
								"tag": "\"inputTouch\""
							}
						}
					],
					"sid": 866366408963272,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-button-pressed",
							"objectClass": "Gamepad",
							"sid": 597587178815482,
							"parameters": {
								"gamepad": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 112514174627426,
							"parameters": {
								"gamepad": "0",
								"axis": "left-analog-x-axis",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 316404339926247,
							"parameters": {
								"gamepad": "0",
								"axis": "left-analog-y-axis",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 328838114172817,
							"parameters": {
								"gamepad": "0",
								"axis": "right-analog-x-axis",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 125707975110811,
							"parameters": {
								"gamepad": "0",
								"axis": "right-analog-y-axis",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 733760038111335,
							"parameters": {
								"tag": "\"inputGamepad\""
							}
						}
					],
					"sid": 947355776638552,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-key-released",
							"objectClass": "Keyboard",
							"sid": 873611776332054
						},
						{
							"id": "on-movement",
							"objectClass": "Mouse",
							"sid": 959185185573274
						},
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 391635641300592,
							"parameters": {
								"direction": "any"
							}
						},
						{
							"id": "on-any-button-released",
							"objectClass": "Gamepad",
							"sid": 214749272300750,
							"parameters": {
								"gamepad": "0"
							}
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 500089995662245,
							"parameters": {
								"tag": "\"inputMixed\""
							}
						}
					],
					"sid": 251891616820293,
					"isOrBlock": true
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Global - Fullscreen",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Global fullscreen logic"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 124790925547142,
									"parameters": {
										"key": 70
									}
								}
							],
							"actions": [],
							"sid": 149929876909246,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-fullscreen",
											"objectClass": "Browser",
											"sid": 637935345407387,
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "request-fullscreen",
											"objectClass": "Browser",
											"sid": 740531012521927,
											"parameters": {
												"mode": "stretch-letterbox-scale",
												"navigation-ui": "hide"
											}
										}
									],
									"sid": 199073642684732
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-pointer-lock",
											"objectClass": "Mouse",
											"sid": 999441828933046
										}
									],
									"actions": [
										{
											"id": "request-pointer-lock",
											"objectClass": "Mouse",
											"sid": 945797175630794,
											"parameters": {
												"unadjusted-movement": false
											}
										}
									],
									"sid": 344661541466842
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 972134997529465,
									"parameters": {
										"key": 27
									}
								}
							],
							"actions": [],
							"sid": 898568823294234,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-fullscreen",
											"objectClass": "Browser",
											"sid": 212971001724869
										}
									],
									"actions": [
										{
											"id": "cancel-fullscreen",
											"objectClass": "Browser",
											"sid": 880791921697594
										}
									],
									"sid": 513951807877330
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-pointer-lock",
											"objectClass": "Mouse",
											"sid": 866974573139058
										}
									],
									"actions": [
										{
											"id": "request-pointer-lock",
											"objectClass": "Mouse",
											"sid": 861210615676395,
											"parameters": {
												"unadjusted-movement": false
											}
										}
									],
									"sid": 918264473437143
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Fullscreen status has changed"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-fullscreen",
									"objectClass": "Browser",
									"sid": 433976135394050
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 967215125447188,
									"parameters": {
										"variable": "SETTING_fullscreen",
										"value": "1"
									}
								}
							],
							"sid": 718537295195953,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 543748247531136
										}
									],
									"actions": [
										{
											"id": "signal",
											"objectClass": "System",
											"sid": 532469089153976,
											"parameters": {
												"tag": "\"refreshToggles\""
											}
										}
									],
									"sid": 650743512912638
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 885539608957726
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 292137277910680,
									"parameters": {
										"variable": "SETTING_fullscreen",
										"value": "0"
									}
								}
							],
							"sid": 188878021353832,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 717901243993957
										}
									],
									"actions": [
										{
											"id": "signal",
											"objectClass": "System",
											"sid": 476003811426220,
											"parameters": {
												"tag": "\"refreshToggles\""
											}
										}
									],
									"sid": 916044012525333
								}
							]
						}
					],
					"sid": 678125711204472
				}
			],
			"sid": 412323949823950
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - Transitions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "TRANSITION_layout",
					"type": "string",
					"initialValue": "Level",
					"comment": "Layout to move to during transition",
					"isStatic": true,
					"isConstant": false,
					"sid": 384306471177208
				},
				{
					"eventType": "variable",
					"name": "TRANSITION_lineWidth",
					"type": "number",
					"initialValue": "4",
					"comment": "Line width, defined here",
					"isStatic": true,
					"isConstant": true,
					"sid": 623782170785237
				},
				{
					"eventType": "variable",
					"name": "TRANSITION_lineAmount",
					"type": "number",
					"initialValue": "0",
					"comment": "Amount of lines to create, determined at runtime",
					"isStatic": true,
					"isConstant": false,
					"sid": 146244603442422
				},
				{
					"eventType": "variable",
					"name": "TRANSITION_linesReady",
					"type": "boolean",
					"initialValue": "false",
					"comment": "Are all lines ready?",
					"isStatic": true,
					"isConstant": false,
					"sid": 822012131822538
				},
				{
					"eventType": "variable",
					"name": "TRANSITION_snapshotReady",
					"type": "boolean",
					"initialValue": "false",
					"comment": "Is the snapshot ready?",
					"isStatic": true,
					"isConstant": false,
					"sid": 138535216851696
				},
				{
					"eventType": "variable",
					"name": "TRANSITION_linesLoaded",
					"type": "number",
					"initialValue": "0",
					"comment": "Amount of lines with snapshot image loaded",
					"isStatic": true,
					"isConstant": false,
					"sid": 439479362979023
				},
				{
					"eventType": "variable",
					"name": "TRANSITION_startTime",
					"type": "number",
					"initialValue": "2.5",
					"comment": "Time for lines to start moving (randomized between 0 and 5 seconds)",
					"isStatic": true,
					"isConstant": false,
					"sid": 687112210462506
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Global - Transitions (Initialization)",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Force lines onto the HUD layer"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 324272432601943
								}
							],
							"actions": [
								{
									"id": "move-to-layer",
									"objectClass": "TransitionLine",
									"sid": 594657828483395,
									"parameters": {
										"layer": "\"HUD\""
									}
								}
							],
							"sid": 896882802689886
						},
						{
							"functionName": "transition",
							"functionDescription": "Bleed transition effect between two layouts",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "layout",
									"type": "string",
									"initialValue": "Level",
									"comment": "",
									"sid": 995136782061594
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 771103514323680,
									"parameters": {
										"variable": "TRANSITION_running",
										"value": "true"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 556665942315481,
									"parameters": {
										"variable": "TRANSITION_movedLayout",
										"value": "false"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 423828663513652,
									"parameters": {
										"variable": "TRANSITION_layout",
										"value": "layout"
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "Selector",
									"sid": 505836719095033
								},
								{
									"type": "comment",
									"text": "Initialization"
								},
								{
									"id": "destroy",
									"objectClass": "TransitionLine",
									"sid": 258443725111121
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 891017992026273,
									"parameters": {
										"variable": "TRANSITION_lineAmount",
										"value": "ceil(ViewportWidth(\"HUD\")/TRANSITION_lineWidth)"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 576517286525398,
									"parameters": {
										"variable": "TRANSITION_linesReady",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 147492192494349,
									"parameters": {
										"variable": "TRANSITION_snapshotReady",
										"value": "false"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 297988880270407,
									"parameters": {
										"variable": "TRANSITION_linesLoaded",
										"value": "0"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 136654689078475,
									"parameters": {
										"variable": "TRANSITION_startTime",
										"value": "2.5"
									}
								},
								{
									"type": "comment",
									"text": "Take snapshot of current frame"
								},
								{
									"id": "snapshot-canvas",
									"objectClass": "System",
									"sid": 500024955857326,
									"parameters": {
										"format": "png",
										"jpeg-quality": "0",
										"x": "0",
										"y": "0",
										"width": "0",
										"height": "0"
									}
								}
							],
							"sid": 628451027307941,
							"children": [
								{
									"eventType": "comment",
									"text": "Create the transition lines"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 414160648378335,
											"parameters": {
												"name": "\"i\"",
												"start-index": "0",
												"end-index": "TRANSITION_lineAmount-1"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 436168966084793,
											"parameters": {
												"object-to-create": "TransitionLine",
												"layer": "\"HUD\"",
												"x": "loopindex(\"i\")*TRANSITION_lineWidth",
												"y": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"type": "comment",
											"text": "Terrible - Set up scales and offsets for snapshot"
										},
										{
											"id": "set-image-scale-x",
											"objectClass": "TransitionLine",
											"sid": 324189495529492,
											"parameters": {
												"scale-x": "100/(PlatformInfo.CanvasDeviceWidth/ViewportWidth(\"HUD\"))"
											}
										},
										{
											"id": "set-image-scale-y",
											"objectClass": "TransitionLine",
											"sid": 434870742155504,
											"parameters": {
												"scale-y": "100/(PlatformInfo.CanvasDeviceHeight/ViewportHeight(\"HUD\"))"
											}
										},
										{
											"id": "set-image-offset-x",
											"objectClass": "TransitionLine",
											"sid": 520791389144040,
											"parameters": {
												"offset-x": "-loopindex(\"i\")*(PlatformInfo.CanvasDeviceWidth/ViewportWidth(\"HUD\"))*TRANSITION_lineWidth\n"
											}
										}
									],
									"sid": 242835432961158,
									"children": [
										{
											"eventType": "comment",
											"text": "All lines are created and ready"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 743012483785603,
													"parameters": {
														"first-value": "TransitionLine.Count",
														"comparison": 0,
														"second-value": "TRANSITION_lineAmount"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-eventvar",
													"objectClass": "System",
													"sid": 962213185361629,
													"parameters": {
														"variable": "TRANSITION_linesReady",
														"value": "true"
													}
												}
											],
											"sid": 380762464311594
										}
									]
								}
							]
						}
					],
					"sid": 268441188997358
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Global - Transitions (Image Loading)",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Snapshot is ready"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-canvas-snapshot",
									"objectClass": "System",
									"sid": 988530860737461
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 152577582205604,
									"parameters": {
										"variable": "TRANSITION_snapshotReady",
										"value": "true"
									}
								}
							],
							"sid": 429076687005438
						},
						{
							"eventType": "comment",
							"text": "Lines are ready and snapshot is taken, ready to move on"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 173313740001426,
									"parameters": {
										"variable": "TRANSITION_linesReady"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 176461644044547,
									"parameters": {
										"variable": "TRANSITION_snapshotReady"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 623721590448864,
									"parameters": {
										"variable": "TRANSITION_linesReady",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 984688329186154,
									"parameters": {
										"variable": "TRANSITION_snapshotReady",
										"value": "false"
									}
								},
								{
									"type": "comment",
									"text": "Apply snapshot image to lines"
								},
								{
									"id": "load-image-from-url",
									"objectClass": "TransitionLine",
									"sid": 654365458064232,
									"parameters": {
										"uri": "CanvasSnapshot",
										"cross-origin": "anonymous"
									}
								}
							],
							"sid": 226897439139161
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-image-url-loaded",
									"objectClass": "TransitionLine",
									"sid": 307185296616613
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 132138730279487,
									"parameters": {
										"variable": "TRANSITION_linesLoaded",
										"value": "1"
									}
								}
							],
							"sid": 533054974229612
						},
						{
							"eventType": "comment",
							"text": "All lines are ready to move, go to the new layout"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 533175898410290,
									"parameters": {
										"variable": "TRANSITION_linesLoaded",
										"comparison": 4,
										"value": "0"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 123770097517523,
									"parameters": {
										"variable": "TRANSITION_linesLoaded",
										"comparison": 0,
										"value": "TransitionLine.Count"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 554777943573629,
									"parameters": {
										"variable": "TRANSITION_linesLoaded",
										"value": "0"
									}
								},
								{
									"id": "go-to-layout-by-name",
									"objectClass": "System",
									"sid": 269715502843702,
									"parameters": {
										"layout": "TRANSITION_layout"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 423758645016735,
									"parameters": {
										"variable": "TRANSITION_movedLayout",
										"value": "true"
									}
								}
							],
							"sid": 659107205503542,
							"children": [
								{
									"eventType": "comment",
									"text": "Set the start time for each line"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 215431655440242,
											"parameters": {
												"object": "TransitionLine"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 275117484622266,
											"parameters": {
												"variable": "TRANSITION_startTime",
												"value": "clamp(TRANSITION_startTime+(random(-1, 1)), 0, 5)"
											}
										},
										{
											"id": "start-timer",
											"objectClass": "TransitionLine",
											"sid": 809871414818240,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "TRANSITION_startTime/10",
												"type": "once",
												"tag": "\"transitionWait\""
											}
										}
									],
									"sid": 482940128731853
								}
							]
						}
					],
					"sid": 632019026184505
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Global - Transitions (Finalizing)",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Start moving the lines"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "TransitionLine",
									"sid": 517977587809967,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"transitionWait\""
									}
								}
							],
							"actions": [
								{
									"id": "move-to-position",
									"objectClass": "TransitionLine",
									"sid": 783497756917570,
									"behaviorType": "MoveTo",
									"parameters": {
										"x": "Self.X",
										"y": "ViewportHeight(\"HUD\")",
										"mode": "direct"
									}
								}
							],
							"sid": 903673336735991
						},
						{
							"eventType": "comment",
							"text": "Line has finished moving, remove it"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-arrived",
									"objectClass": "TransitionLine",
									"sid": 917173600677960,
									"behaviorType": "MoveTo"
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "TransitionLine",
									"sid": 289702467645456
								}
							],
							"sid": 960038055531560
						},
						{
							"eventType": "comment",
							"text": "All lines are finished, unlock the game"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 826432550410617,
									"parameters": {
										"variable": "TRANSITION_running"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 353858758753208,
									"parameters": {
										"first-value": "TransitionLine.Count",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 139302335259832,
									"parameters": {
										"variable": "TRANSITION_running",
										"value": "false"
									}
								}
							],
							"sid": 403155563657056
						}
					],
					"sid": 249393620196146
				}
			],
			"sid": 896926101837164
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - NGIO",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Initialize NGIO and login as soon as possible"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-ready",
							"objectClass": "NGIO",
							"sid": 808100458089522
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 114223946461149,
							"parameters": {
								"variable": "NGIO_loggedIn"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 170208809454972,
					"children": [
						{
							"eventType": "comment",
							"text": "Login if playing on Newgrounds"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 913143951198685,
									"parameters": {
										"variable": "NGIO_onNewgrounds"
									}
								}
							],
							"actions": [
								{
									"id": "login",
									"objectClass": "NGIO",
									"sid": 627946366631771,
									"parameters": {
										"window-mode": "tab"
									}
								}
							],
							"sid": 390853823944169
						}
					]
				},
				{
					"eventType": "comment",
					"text": "We're logged in"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-login-success",
							"objectClass": "NGIO",
							"sid": 454126432391743
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 916814301399801,
							"parameters": {
								"variable": "NGIO_loggedIn",
								"value": "true"
							}
						}
					],
					"sid": 788345412942624
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 840402105540829,
							"parameters": {
								"variable": "NGIO_loggedIn"
							}
						}
					],
					"actions": [],
					"sid": 897137357043175,
					"children": [
						{
							"eventType": "comment",
							"text": "Tankman"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 268335401405480,
									"parameters": {
										"variable": "LOAD_skins"
									}
								},
								{
									"id": "is-supporter",
									"objectClass": "NGIO",
									"sid": 640908451937874
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 703509280551564
								}
							],
							"actions": [
								{
									"callFunction": "unlockSkin",
									"sid": 650275057449460,
									"parameters": [
										"Skins.IndexOf(\"tankman\")",
										false,
										false
									]
								}
							],
							"sid": 459412313824230,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 841609643694394,
											"parameters": {
												"variable": "GAME_load"
											}
										},
										{
											"id": "compare-value",
											"objectClass": "SaveFile",
											"sid": 926736306073214,
											"parameters": {
												"key": "\"skin\"",
												"comparison": 0,
												"value": "\"tankman\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 619515054165113,
											"parameters": {
												"variable": "SETTING_playerSkin",
												"value": "\"tankman\""
											}
										}
									],
									"sid": 779573866788361
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Sync medals with Newgrounds ASAP"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 908880226728981,
									"parameters": {
										"variable": "LOAD_medals"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 177688777651597,
									"parameters": {
										"variable": "NGIO_medals"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 189546465392535,
									"parameters": {
										"variable": "NGIO_medals",
										"value": "true"
									}
								}
							],
							"sid": 962730136640032,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-medal",
											"objectClass": "NGIO",
											"sid": 521441023112128
										},
										{
											"id": "is-unlocked",
											"objectClass": "NGIO",
											"sid": 921066111886917,
											"parameters": {
												"medal-id": "NGIO.MedalID"
											}
										}
									],
									"actions": [
										{
											"callFunction": "unlockMedal",
											"sid": 931207939116006,
											"parameters": [
												"Medals.IndexOf(NGIO.MedalID)",
												false,
												false
											]
										}
									],
									"sid": 134477371896159
								}
							]
						}
					]
				}
			],
			"sid": 399470303356611
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - Unlocks",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "unlockSkin",
					"functionDescription": "Unlock a skin",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "id",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 466002669428029
						},
						{
							"name": "save",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 138893898408575
						},
						{
							"name": "ping",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 956887280175924
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 548557089545633,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-empty",
									"objectClass": "Skins",
									"sid": 725222859277121,
									"isInverted": true
								},
								{
									"id": "compare-at-xy",
									"objectClass": "Skins",
									"sid": 456471074940095,
									"parameters": {
										"x": "id",
										"y": "5",
										"comparison": 1,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-at-xy",
									"objectClass": "Skins",
									"sid": 486456393598399,
									"parameters": {
										"x": "id",
										"y": "5",
										"value": "1"
									}
								}
							],
							"sid": 829313579668574,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 476559398165392,
											"parameters": {
												"variable": "save"
											}
										}
									],
									"actions": [
										{
											"callFunction": "save",
											"sid": 221099190495836
										}
									],
									"sid": 493002259401312
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 679555611873852,
											"parameters": {
												"variable": "ping"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 874252193461971,
											"parameters": {
												"variable": "MENU_unlockPing",
												"value": "true"
											}
										}
									],
									"sid": 341430453804109
								}
							]
						}
					]
				},
				{
					"functionName": "unlockMedal",
					"functionDescription": "Unlock a medal",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "id",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 433672747278076
						},
						{
							"name": "save",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 765434535482599
						},
						{
							"name": "ping",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 559696532749178
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 723900450918915,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-empty",
									"objectClass": "Medals",
									"sid": 620173434606698,
									"isInverted": true
								},
								{
									"id": "compare-at-xy",
									"objectClass": "Medals",
									"sid": 754879596184365,
									"parameters": {
										"x": "id",
										"y": "5",
										"comparison": 1,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-at-xy",
									"objectClass": "Medals",
									"sid": 108024642733124,
									"parameters": {
										"x": "id",
										"y": "5",
										"value": "1"
									}
								}
							],
							"sid": 561401068873939,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 560700697838984,
											"parameters": {
												"variable": "save"
											}
										}
									],
									"actions": [
										{
											"callFunction": "save",
											"sid": 900006781211232
										}
									],
									"sid": 807201915295989
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 291915067821698,
											"parameters": {
												"variable": "ping"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 846665476697601,
											"parameters": {
												"variable": "MENU_unlockPing",
												"value": "true"
											}
										}
									],
									"sid": 135144545435392
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Unlock the medal on Newgrounds"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 944468338115368,
									"parameters": {
										"variable": "NGIO_loggedIn"
									}
								}
							],
							"actions": [
								{
									"id": "unlock-medal",
									"objectClass": "NGIO",
									"sid": 162088605651760,
									"parameters": {
										"medal-id": "Medals.At(id, 0)"
									}
								}
							],
							"sid": 679910239434661
						},
						{
							"eventType": "comment",
							"text": "Francis"
						},
						{
							"eventType": "variable",
							"name": "medalsUnlocked",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 251622808404421
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "Medals",
									"sid": 186838735611279,
									"parameters": {
										"axes": "x"
									}
								},
								{
									"id": "compare-at-xy",
									"objectClass": "Medals",
									"sid": 253271423572344,
									"parameters": {
										"x": "Medals.CurX",
										"y": "5",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 207426594485809,
									"parameters": {
										"variable": "medalsUnlocked",
										"value": "1"
									}
								}
							],
							"sid": 703889599066745
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 872871017734448,
									"parameters": {
										"variable": "medalsUnlocked",
										"comparison": 0,
										"value": "Medals.Width"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 497579759587003,
									"parameters": {
										"variable": "LOAD_skins"
									}
								}
							],
							"actions": [
								{
									"callFunction": "unlockSkin",
									"sid": 529709048130885,
									"parameters": [
										"Skins.IndexOf(\"francis\")",
										true,
										true
									]
								}
							],
							"sid": 684436173736412
						}
					]
				}
			],
			"sid": 510971358042696
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - Saving",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "save",
					"functionDescription": "Save the game.",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Initialization"
						},
						{
							"id": "clear",
							"objectClass": "SaveFile",
							"sid": 277109967794638
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 882083966936745,
							"parameters": {
								"key": "\"version\"",
								"value": "projectversion"
							}
						},
						{
							"type": "comment",
							"text": "Settings"
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 310638923998129,
							"parameters": {
								"key": "\"sound\"",
								"value": "SETTING_volumeSound"
							}
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 889636682564443,
							"parameters": {
								"key": "\"music\"",
								"value": "SETTING_volumeMusic"
							}
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 966803404664247,
							"parameters": {
								"key": "\"skin\"",
								"value": "SETTING_playerSkin"
							}
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 110947085949509,
							"parameters": {
								"key": "\"fullscreen\"",
								"value": "SETTING_fullscreen"
							}
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 657908781317492,
							"parameters": {
								"key": "\"flashing\"",
								"value": "SETTING_flashing"
							}
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 549911673114437,
							"parameters": {
								"key": "\"timer\"",
								"value": "SETTING_timer"
							}
						},
						{
							"type": "comment",
							"text": "Unlocks"
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 889006418465356,
							"parameters": {
								"key": "\"doomUnlock\"",
								"value": "UNLOCK_doomMusic"
							}
						},
						{
							"id": "add-key",
							"objectClass": "SaveFile",
							"sid": 197429542028992,
							"parameters": {
								"key": "\"doomMusic\"",
								"value": "SETTING_doomMusic"
							}
						}
					],
					"sid": 290017484363533,
					"children": [
						{
							"eventType": "comment",
							"text": "Save indicator"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "MenuFontSmall",
									"sid": 921808763726117,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"saving\""
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "MenuFontSmall",
									"sid": 436965535081715,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "MenuFontSmall",
									"sid": 802704398027438,
									"parameters": {
										"opacity": "100"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 573580305259421,
									"parameters": {
										"seconds": "0.25",
										"use-timescale": true
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "MenuFontSmall",
									"sid": 626779160407226,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"\"",
										"property": "offsetOpacity",
										"end-value": "0",
										"time": "0.5",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 273103587189126
						},
						{
							"eventType": "comment",
							"text": "Loop through all medals"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "Medals",
									"sid": 887544632909143,
									"parameters": {
										"axes": "x"
									}
								}
							],
							"actions": [
								{
									"id": "add-key",
									"objectClass": "SaveFile",
									"sid": 678932685715375,
									"parameters": {
										"key": "Medals.At(Medals.CurX, 1)",
										"value": "Medals.At(Medals.CurX, 5)"
									}
								}
							],
							"sid": 385800812764558
						},
						{
							"eventType": "comment",
							"text": "Loop through all skins, excluding Default and Tankman"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "Skins",
									"sid": 806545618615478,
									"parameters": {
										"axes": "x"
									}
								},
								{
									"id": "compare-current-value",
									"objectClass": "Skins",
									"sid": 626453204796146,
									"parameters": {
										"comparison": 0,
										"value": "\"default\""
									},
									"isInverted": true
								},
								{
									"id": "compare-current-value",
									"objectClass": "Skins",
									"sid": 702735563743243,
									"parameters": {
										"comparison": 0,
										"value": "\"tankman\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "add-key",
									"objectClass": "SaveFile",
									"sid": 410674983352353,
									"parameters": {
										"key": "Skins.At(Skins.CurX, 1)",
										"value": "Skins.At(Skins.CurX, 5)"
									}
								}
							],
							"sid": 440640108246948
						},
						{
							"eventType": "comment",
							"text": "Save to a file on standalone, if supported"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 244526312311926,
									"parameters": {
										"variable": "GAME_standalone"
									}
								},
								{
									"id": "desktop-features-supported",
									"objectClass": "FileSystem",
									"sid": 194598253898471
								},
								{
									"id": "is-supported",
									"objectClass": "FileSystem",
									"sid": 120174585512449
								}
							],
							"actions": [
								{
									"id": "write-text-file",
									"objectClass": "FileSystem",
									"sid": 910263507373733,
									"parameters": {
										"picker-tag": "\"<local-app-data>\"",
										"folder-path": "\"SCUMDOG/doom_tge/saveData1.txt\"",
										"file-tag": "\"\"",
										"text": "Browser.ExecJS(\"btoa('\"&SaveFile.AsJSON&\"')\")",
										"mode": "overwrite"
									}
								}
							],
							"sid": 907164130683744
						},
						{
							"eventType": "comment",
							"text": "Save to local storage"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 809443290786343
								}
							],
							"actions": [
								{
									"id": "set-item",
									"objectClass": "LocalStorage",
									"sid": 465403705209116,
									"parameters": {
										"key": "\"saveData1\"",
										"value": "Browser.ExecJS(\"btoa('\"&SaveFile.AsJSON&\"')\")"
									}
								}
							],
							"sid": 194646400345829
						}
					]
				}
			],
			"sid": 267621989731064
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Global - Loading",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "File read, good to go"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-file-operation-complete",
							"objectClass": "FileSystem",
							"sid": 645186909579939,
							"parameters": {
								"file-tag": "\"load\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "load",
							"sid": 401870950397593,
							"parameters": [
								"Browser.ExecJS(\"atob('\"&FileSystem.FileText&\"')\")"
							]
						}
					],
					"sid": 409906381960859
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-exists",
							"objectClass": "LocalStorage",
							"sid": 164183989235588,
							"parameters": {
								"key": "\"saveData1\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "load",
							"sid": 773536543847820,
							"parameters": [
								"Browser.ExecJS(\"atob('\"&LocalStorage.ItemValue&\"')\")"
							]
						}
					],
					"sid": 323317218052098
				},
				{
					"eventType": "comment",
					"text": "File not read, everything is terrible"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-file-operation-error",
							"objectClass": "FileSystem",
							"sid": 115998335189123,
							"parameters": {
								"file-tag": "\"load\""
							}
						},
						{
							"id": "on-item-missing",
							"objectClass": "LocalStorage",
							"sid": 688596444234924,
							"parameters": {
								"key": "\"saveData1\""
							}
						},
						{
							"id": "on-error",
							"objectClass": "LocalStorage",
							"sid": 610142624800259
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 772917438599698,
							"parameters": {
								"variable": "LOAD_save",
								"value": "true"
							}
						}
					],
					"sid": 239514742234620,
					"isOrBlock": true
				},
				{
					"functionName": "load",
					"functionDescription": "Load the game.",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "data",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 697040041616731
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 882540775309854,
							"parameters": {
								"variable": "LOAD_save",
								"value": "true"
							}
						},
						{
							"id": "load",
							"objectClass": "SaveFile",
							"sid": 503537490687619,
							"parameters": {
								"json": "data"
							}
						}
					],
					"sid": 447431086607524,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-empty",
									"objectClass": "SaveFile",
									"sid": 844089688755040,
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Settings"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 867981257455195,
									"parameters": {
										"variable": "SETTING_volumeSound",
										"value": "SaveFile.Get(\"sound\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 356343451447424,
									"parameters": {
										"variable": "SETTING_volumeMusic",
										"value": "SaveFile.Get(\"music\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 680267163395177,
									"parameters": {
										"variable": "SETTING_flashing",
										"value": "SaveFile.Get(\"flashing\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 585452133123341,
									"parameters": {
										"variable": "SETTING_timer",
										"value": "SaveFile.Get(\"timer\")"
									}
								},
								{
									"type": "comment",
									"text": "Unlocks"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 634569462184400,
									"parameters": {
										"variable": "UNLOCK_doomMusic",
										"value": "SaveFile.Get(\"doomUnlock\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 152308801403504,
									"parameters": {
										"variable": "SETTING_doomMusic",
										"value": "SaveFile.Get(\"doomMusic\")"
									}
								}
							],
							"sid": 554025193388414,
							"children": [
								{
									"eventType": "comment",
									"text": "Standalone - remember fullscreen status"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 384512436791826,
											"parameters": {
												"variable": "GAME_standalone"
											}
										},
										{
											"id": "compare-value",
											"objectClass": "SaveFile",
											"sid": 205886801257864,
											"parameters": {
												"key": "\"fullscreen\"",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "request-fullscreen",
											"objectClass": "Browser",
											"sid": 159106995644302,
											"parameters": {
												"mode": "stretch-letterbox-scale",
												"navigation-ui": "hide"
											}
										}
									],
									"sid": 470945352314132
								},
								{
									"eventType": "comment",
									"text": "Loop through all skins, excluding Default and Tankman"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-element",
											"objectClass": "Skins",
											"sid": 411533911600724,
											"parameters": {
												"axes": "x"
											}
										},
										{
											"id": "compare-current-value",
											"objectClass": "Skins",
											"sid": 328357121351516,
											"parameters": {
												"comparison": 0,
												"value": "\"default\""
											},
											"isInverted": true
										},
										{
											"id": "compare-current-value",
											"objectClass": "Skins",
											"sid": 728403467107674,
											"parameters": {
												"comparison": 0,
												"value": "\"tankman\""
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 172691685784927,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "SaveFile",
													"sid": 222597606049309,
													"parameters": {
														"key": "Skins.At(Skins.CurX, 1)",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"callFunction": "unlockSkin",
													"sid": 797054741825130,
													"parameters": [
														"Skins.CurX",
														false,
														false
													]
												}
											],
											"sid": 669794148438504
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Loop through all medals, set them if no NGIO"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-element",
											"objectClass": "Medals",
											"sid": 106071339254324,
											"parameters": {
												"axes": "x"
											}
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 136219921989346,
											"parameters": {
												"variable": "NGIO_loggedIn"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 140548053600050,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "SaveFile",
													"sid": 798427846676327,
													"parameters": {
														"key": "Medals.At(Medals.CurX, 1)",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"callFunction": "unlockMedal",
													"sid": 785023178432675,
													"parameters": [
														"Medals.CurX",
														false,
														false
													]
												}
											],
											"sid": 375656954230232
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Validate and set skin"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-value",
											"objectClass": "SaveFile",
											"sid": 994583941446353,
											"parameters": {
												"key": "\"skin\"",
												"comparison": 1,
												"value": "\"default\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 733117082992840,
											"parameters": {
												"variable": "SETTING_playerSkin",
												"value": "Skins.At(Skins.IndexOf(SaveFile.Get(\"skin\")), 5) = 1 ? SaveFile.Get(\"skin\") : \"default\""
											}
										}
									],
									"sid": 646084336769543
								}
							]
						}
					]
				}
			],
			"sid": 773398537179599
		}
	],
	"sid": 955279659848991
}